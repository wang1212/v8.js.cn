const e=document.querySelector("dark-mode-toggle"),t=document.querySelector(".twitter-link");let o=null;t&&(o=import("https://platform.twitter.com/widgets.js").then(()=>t.remove()));let r=document.querySelector(".twitter-widget");const n=document.documentElement,a=()=>{n.classList.toggle("dark","dark"===e.mode),(async()=>{if(r){await o;const t=r.cloneNode();t.style.display="none",r.insertAdjacentElement("afterend",t),await twttr.widgets.createTimeline({screenName:"v8js",sourceType:"profile"},t,{dnt:!0,height:1e3,chrome:"noheader nofooter",theme:e.mode}),r.remove(),t.style.display="block",r=t}})()};a(),e.addEventListener("colorschemechange",a);const c=document.querySelector("#nav-toggle");if(c.addEventListener("click",e=>{e.preventDefault(),document.querySelector("header nav").classList.add("show"),c.classList.add("hide")}),"/logo"!==location.pathname){document.querySelector("#header a").addEventListener("contextmenu",e=>{e.preventDefault(),self.location="/logo"})}"serviceWorker"in navigator&&addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js")}),location.search.includes("utm_source")&&history.replaceState({},"",location.pathname),/\b(iPad|iPhone|iPod|Safari)\b/.test(navigator.userAgent)&&import("https://unpkg.com/pwacompat");