<!doctype html><html lang=zh-CN><meta charset=utf-8><title>V8 release v8.7 · V8</title><meta content="width=device-width,initial-scale=1" name=viewport><meta content="dark light" name=color-scheme><link href=/_css/main.css rel=stylesheet><link href=/.webmanifest rel=manifest><meta content=#4285F4 name=theme-color><link href=/blog.atom rel=alternate title="V8 Atom feed" type=application/atom+xml><link href=/features.atom rel=alternate title="V8 JS/Wasm features Atom feed" type=application/atom+xml><script>document.documentElement.className+=' js'</script><meta content="V8 release v8.7 brings new API for native calls, Atomics.waitAsync, bug fixes and performance improvements." name=description><header id=header><h1><a href=/ >V8</a></h1><a href=#navigation-toggle id=nav-toggle>显示导肮</a><nav><ul><li><a href=/ >主页</a><li class=active><a href=/blog/ >博客</a><li><a href=/docs/ >文档</a><li><a href=/features title="JavaScript 和 WebAssembly 的新特性">JS/Wasm 新特性</a><li><a href=/grant>Research</a></ul></nav></header><main id=main><article itemscope itemtype=http://schema.org/BlogPosting><header><h1 itemprop=headline>V8 release v8.7</h1><p class=meta>发布时间 <time datetime="2020-10-23 00:00:00" itemprop=datePublished title="2020-10-23 00:00:00">2020-10-23</time> · 标签： <a href=/blog/tags/release/ class=tag>release</a></header><div itemprop=articleBody><p>Every six weeks, we create a new branch of V8 as part of our <a href=https://v8.dev/docs/release-process>release process</a>. Each version is branched from V8’s Git master immediately before a Chrome Beta milestone. Today we’re pleased to announce our newest branch, <a href=https://chromium.googlesource.com/v8/v8.git/+log/branch-heads/8.7>V8 version 8.7</a>, which is in beta until its release in coordination with Chrome 87 Stable in several weeks. V8 v8.7 is filled with all sorts of developer-facing goodies. This post provides a preview of some of the highlights in anticipation of the release.<h2 id=javascript>JavaScript <a href=#javascript class=bookmark>#</a></h2><h3 id=unsafe-fast-js-calls>Unsafe fast JS calls <a href=#unsafe-fast-js-calls class=bookmark>#</a></h3><p>V8 v8.7 comes with an enhanced API for doing native calls from JavaScript.<p>The feature is still experimental and can be enabled through the <code>--turbo-fast-api-calls</code> flag in V8 or the corresponding <code>--enable-unsafe-fast-js-calls</code> flag in Chrome. It is designed to improve performance of some native graphics APIs in Chrome, but can also be used by other embedders. It provides new means for developers to create instances of <code>v8::FunctionTemplate</code>, as is documented in this <a href=https://source.chromium.org/chromium/chromium/src/+/master:v8/include/v8-fast-api-calls.h>header file</a>. Functions created using the original API will remain unaffected.<p>For more information and a list of available features, please see <a href="https://docs.google.com/document/d/1nK6oW11arlRb7AA76lJqrBIygqjgdc92aXUPYecc9dU/edit?usp=sharing">this explainer</a>.<h3 id=atomics.waitasync><code>Atomics.waitAsync</code> <a href=#atomics.waitasync class=bookmark>#</a></h3><p><a href=https://github.com/tc39/proposal-atomics-wait-async/blob/master/PROPOSAL.md><code>Atomics.waitAsync</code></a> is now available in V8 v8.7.<p><a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics/wait><code>Atomics.wait</code></a> and <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Atomics/notify><code>Atomics.notify</code></a> are low-level synchronization primitives useful for implementing mutexes and other means of synchronization. However, since <code>Atomics.wait</code> is blocking, it’s not possible to call it on the main thread (trying to do so will throw a TypeError). The non-blocking version, <a href=https://github.com/tc39/proposal-atomics-wait-async/blob/master/PROPOSAL.md><code>Atomics.waitAsync</code></a>, is usable also on the main thread.<p>Check out <a href=https://v8.dev/features/atomics>our explainer on <code>Atomics</code> APIs</a> for more details.<h2 id=v8-api>V8 API <a href=#v8-api class=bookmark>#</a></h2><p>Please use <code>git log branch-heads/8.6..branch-heads/8.7 include/v8.h</code> to get a list of the API changes.<p>Developers with an active V8 checkout can use <code>git checkout -b 8.7 -t branch-heads/8.7</code> to experiment with the new features in V8 v8.7. Alternatively you can <a href=https://www.google.com/chrome/browser/beta.html>subscribe to Chrome’s Beta channel</a> and try the new features out yourself soon.</div><footer><div><picture><source srcset="/_img/avatars/ingvar-stepanyan.avif, /_img/avatars/ingvar-stepanyan@2x.avif 2x" type=image/avif><img alt="" height=96 loading=lazy src=/_img/avatars/ingvar-stepanyan.jpg srcset="/_img/avatars/ingvar-stepanyan@2x.jpg 2x" width=96></picture><p>作者：Ingvar Stepanyan (<a href=https://twitter.com/RReverser>@RReverser</a>), a V8 flag bearer.</div><a href=https://twitter.com/v8js/status/1319654229863182338 class=retweet>Retweet this article!</a></footer></article></main><footer id=footer><div><nav><a href=https://v8.dev/blog/v8-release-87>原文</a> · <a href=/logo/ >商标</a> · <a href=/terms/ >条款</a> · <a href=https://policies.google.com/privacy/ >隐私</a> · <a href=https://twitter.com/v8js rel="me nofollow">Twitter</a> · <a href=https://github.com/justjavac/v8.js.cn/tree/master/./src/blog/v8-release-87.md rel=nofollow>在 GitHub 编辑此页面</a></nav><dark-mode-toggle dark="Light Theme" light="Dark Theme" permanent></dark-mode-toggle></div><p><small>如无特殊说明，此 V8 项目中使用到的所有示例代码均基于 <a href=https://chromium.googlesource.com/v8/v8.git/+/master/LICENSE>V8's BSD-style license</a> 发布。页面中的文字内容采用 <a href=https://creativecommons.org/licenses/by/3.0/ >the Creative Commons Attribution 3.0 License</a> 进行许可。更详细的信息可以在 <a href=/terms#site-policies>站点策略</a> 中找到。</small></footer><script src=/_js/dark-mode-toggle.mjs type=module></script><script src=/_js/main.mjs type=module></script><script src=/_js/legacy.js nomodule></script>