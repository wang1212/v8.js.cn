<!doctype html><html lang=zh-CN><meta charset=utf-8><title>Chrome welcomes Speedometer 2.0! · V8</title><meta content="width=device-width,initial-scale=1" name=viewport><meta content="dark light" name=color-scheme><link href=/_css/main.css rel=stylesheet><link href=/.webmanifest rel=manifest><meta content=#4285F4 name=theme-color><link href=/blog.atom rel=alternate title="V8 Atom feed" type=application/atom+xml><link href=/features.atom rel=alternate title="V8 JS/Wasm features Atom feed" type=application/atom+xml><script>document.documentElement.className+=' js'</script><meta content="An overview of the performance improvements we’ve made so far in Blink and V8 based on Speedometer 2.0." name=description><header id=header><h1><a href=/ >V8</a></h1><a href=#navigation-toggle id=nav-toggle>显示导肮</a><nav><ul><li><a href=/ >主页</a><li class=active><a href=/blog/ >博客</a><li><a href=/docs/ >文档</a><li><a href=/features title="JavaScript 和 WebAssembly 的新特性">JS/Wasm 新特性</a><li><a href=/grant>Research</a></ul></nav></header><main id=main><article itemscope itemtype=http://schema.org/BlogPosting><header><h1 itemprop=headline>Chrome welcomes Speedometer 2.0!</h1><p class=meta>发布时间 <time datetime="2018-01-24 13:33:37" itemprop=datePublished title="2018-01-24 13:33:37">2018-01-24</time> · 标签： <a href=/blog/tags/benchmarks/ class=tag>benchmarks</a></header><div itemprop=articleBody><p>Ever since its initial release of Speedometer 1.0 in 2014, the Blink and V8 teams have been using the benchmark as a proxy for real-world use of popular JavaScript frameworks and we achieved considerable speedups on this benchmark. We verified independently that these improvements translate to real user benefits by measuring against real-world websites and observed that improvements of page load times of popular websites also improved the Speedometer score.<p>JavaScript has rapidly evolved in the meantime, adding many new language features with ES2015 and later standards. The same is true for the frameworks themselves, and as such Speedometer 1.0 has become outdated over time. Hence using Speedometer 1.0 as an optimization indicator raises the risk of not measuring newer code patterns that are actively used.<p>The Blink and V8 teams welcome <a href=https://webkit.org/blog/8063/speedometer-2-0-a-benchmark-for-modern-web-app-responsiveness/ >the recent release of the updated Speedometer 2.0 benchmark</a>. Applying the original concept to a list of contemporary frameworks, transpilers and ES2015 features makes the benchmark a prime candidate for optimizations again. Speedometer 2.0 is a great addition to <a href=/blog/real-world-performance>our real-world performance benchmarking tool belt</a>.<h2 id=chrome%E2%80%99s-mileage-so-far>Chrome’s mileage so far <a href=#chrome%E2%80%99s-mileage-so-far class=bookmark>#</a></h2><p>The Blink and V8 teams have already completed a first round of improvements, underlying the importance of this benchmark to us and continuing our journey of focusing on real-world performance. Comparing Chrome 60 from July 2017 with the latest Chrome 64 we have achieved about a 21% improvement on the total score (runs per minute) on a mid-2016 Macbook Pro (4 core, 16GB RAM).<figure><img alt="" height=99 loading=lazy src=/_img/speedometer-2/scores.png width=640><figcaption>Comparison of Speedometer 2 scores between Chrome 60 and 64</figcaption></figure><p>Let’s zoom into the individual Speedometer 2.0 line items. We doubled the performance of the React runtime by improving <a href=https://chromium.googlesource.com/v8/v8/+/808dc8cff3f6530a627ade106cbd814d16a10a18><code>Function.prototype.bind</code></a>. Vanilla-ES2015, AngularJS, Preact, and VueJS improved by 19%–42% due to <a href=https://chromium-review.googlesource.com/c/v8/v8/+/700494>speeding up the JSON parsing</a> and various other performance fixes. The jQuery-TodoMVC app’s runtime was reduced by improvements to Blink’s DOM implementation, including <a href=https://chromium.googlesource.com/chromium/src/+/f610be969095d0af8569924e7d7780b5a6a890cd>more lightweight form controls</a> and <a href=https://chromium.googlesource.com/chromium/src/+/6dd09a38aaae9c15adf5aad966f761f180bf1cef>tweaks to our HTML parser</a>. Additional tweaking of V8’s inline caches in combination with the optimizing compiler yielded improvements across the board.<figure><img alt="" height=669 loading=lazy src=/_img/speedometer-2/improvements.png width=1600><figcaption>Score improvements for each Speedometer 2 subtest from Chrome 60 to 64</figcaption></figure><p>A significant change over Speedometer 1.0 is the calculation of the final score. Previously the average of all scores favoured working only on the slowest line items. When looking at the absolute times spent in each line item we see for instance that the EmberJS-Debug version takes roughly 35 times as long as the fastest benchmark. Hence to improve the overall score focusing on EmberJS-Debug has the highest potential.<figure><img alt="" height=158 loading=lazy src=/_img/speedometer-2/time.png width=640></figure><p>Speedometer 2.0 uses the geometric mean for the final score, favouring equal investments into each framework. Let us consider our recent 16.5% improvement of Preact from above. It would be rather unfair to forgo the 16.5% improvement just because of its minor contribution to the total time.<p>We are looking forward to bring further performance improvements to Speedometer 2.0 and through that to the whole web. Stay tuned for more performance high-fives.</div><footer><div><p>作者：the Blink and V8 teams.</div><a href=https://twitter.com/v8js/status/956232641736421377 class=retweet>Retweet this article!</a></footer></article></main><footer id=footer><div><nav><a href=https://v8.dev/blog/speedometer-2>原文</a> · <a href=/logo/ >商标</a> · <a href=/terms/ >条款</a> · <a href=https://policies.google.com/privacy/ >隐私</a> · <a href=https://twitter.com/v8js rel="me nofollow">Twitter</a> · <a href=https://github.com/justjavac/v8.js.cn/tree/master/./src/blog/speedometer-2.md rel=nofollow>在 GitHub 编辑此页面</a></nav><dark-mode-toggle dark="Light Theme" light="Dark Theme" permanent></dark-mode-toggle></div><p><small>如无特殊说明，此 V8 项目中使用到的所有示例代码均基于 <a href=https://chromium.googlesource.com/v8/v8.git/+/master/LICENSE>V8's BSD-style license</a> 发布。页面中的文字内容采用 <a href=https://creativecommons.org/licenses/by/3.0/ >the Creative Commons Attribution 3.0 License</a> 进行许可。更详细的信息可以在 <a href=/terms#site-policies>站点策略</a> 中找到。</small></footer><script src=/_js/dark-mode-toggle.mjs type=module></script><script src=/_js/main.mjs type=module></script><script src=/_js/legacy.js nomodule></script>